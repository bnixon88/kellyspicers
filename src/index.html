<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>KellySpicers</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
   
    <script class="init" type="text/javascript">
      $(document).ready(function() {
      var groupColumn = 3;
      var table = $('#media').DataTable({
      "columnDefs": [
        { "visible": false, "targets": groupColumn }
      ],
      "order": [[ groupColumn, 'asc' ]],
      "displayLength": 150,
      "drawCallback": function ( settings ) {
          var api = this.api();
          var rows = api.rows( {page:'current'} ).nodes();
          var last=null;

          api.column(groupColumn, {page:'current'} ).data().each( function ( group, i ) {
              if ( last !== group ) {
                  $(rows).eq( i ).before(
                      '<tr class="group"><td colspan="6">'+group+'</td></tr>'
                  );

                  last = group;
                  }
              } );
          }
      } );

      // Order by the grouping
      $('#media tbody').on( 'click', 'tr.group', function () {
          var currentOrder = table.order()[0];
          if ( currentOrder[0] === groupColumn && currentOrder[1] === 'asc' ) {
              table.order( [ groupColumn, 'desc' ] ).draw();
          }
          else {
              table.order( [ groupColumn, 'asc' ] ).draw();
          }
      } );
      } );
    </script>
</head>
<body>
    <main>
    <div class="container">
      <div id="topcontainer">
          
          <img src="images/KellySpicers_Main_Logo_RGB_562x100.png" class="centerImage" width="562" height="100">
          <h1>Wide Format Media</h1>
          <h4><i>UV, latex and eco-solvent</i></h4>
          <p>Loading content from the KellySpicers API: <b id="name" style="color: crimson;">...</b></p>
      </div>

<!--       <div class="container" style="margin-bottom: 20px; text-align: right;">
        <a class="btn btn-outline-danger btn-lg" href="overstock.html">Overstock Specials</a>
      </div> -->

      <table id="media" class="table table-sm" width="100%">
        <thead class="thead-light">
          <tr>
            <th scope="col">Nextlevel</th>
            <th scope="col">Description</th>
            <th scope="col">Size</th>
            <th scope="col">Segment</th>
            <th scope="col">Application</th>
            <th scope="col">Unit</th>
          </tr>
        </thead>
          <tbody>
            <tr>
              <td>7002317</td>
              <td class="text-left">
                <a target="_blank" rel="noopener noreferrer" href="https://www.neenahpaper.com/brands/blox-lite-wide-format">Neenah Blox-Lite C2S Blockout Paper</a>
              </td>
              <td class="text-left">12mil 54" x 150'</td>
              <td class="text-left">Segment</td>
              <td class="text-left">Poster Paper</td>
              <td class="text-left">Roll</td>
            </tr>
            <tr>
              <td>7002298</td>
              <td class="text-left">
                <a target="_blank" rel="noopener noreferrer" href="https://www.neenahpaper.com/brands/endura-wide-format">Neenah Endura</a>
              </td>
              <td class="text-left">10pt 54" x 150' Satin</td>
              <td class="text-left">Segment</td>
              <td class="text-left">Poster Paper</td>
              <td class="text-left">Roll</td>
            </tr>
            <tr>
              <td>7002308</td>
              <td class="text-left">
                <a target="_blank" rel="noopener noreferrer" href="https://www.neenahpaper.com/brands/endura-wide-format">Neenah Endura</a>
              </td>
              <td class="text-left">10pt 60" x 150' Satin</td>
              <td class="text-left">Segment</td>
              <td class="text-left">Poster Paper</td>
              <td class="text-left">Roll</td>
            </tr>
          </tbody>
      </table>
      <div class="footer-copyright mt-3 mb-5">
        &copy;KellySpicers Pacific Northwest 2021
    </div>
      </div>
    </main>


    <script>
    (async function() {
        const { text } = await( await fetch(`/api/message`)).json();
        document.querySelector('#name').textContent = text;
    }())
    </script>
</body>

</html>